{
  "id": "libs",
  "title": "Libraries",
  "description": "Core libraries and service integrations",
  "subcategories": [
    {
      "id": "servers",
      "title": "Servers",
      "description": "Server implementations for different protocols",
      "snippets": [
        {
          "id": "express-server",
          "name": "express-server",
          "displayName": "Express Server",
          "description": "Production-ready Express HTTP server with graceful shutdown",
          "purpose": "Start an Express server with proper production configuration. Use this as your main server entry point.",
          "features": [
            "Graceful shutdown on SIGTERM/SIGINT",
            "CORS and Helmet pre-configured",
            "Health check endpoint included",
            "Environment-based port configuration"
          ],
          "usage": "import { createServer } from './libs/server';\n\nconst app = createServer();\napp.listen(process.env.PORT || 3000);",
          "output": "libs/server.ts",
          "dependencies": ["express", "cors", "helmet"],
          "command": "npx hanma add express-server"
        },
        {
          "id": "http-server",
          "name": "http-server",
          "displayName": "HTTP Server",
          "description": "Basic HTTP server with Express integration",
          "purpose": "When you need a raw Node.js HTTP server with Express. Useful for WebSocket or HTTP/2 integration.",
          "features": [
            "Native Node.js http.createServer",
            "Express app attachment",
            "Manual server control"
          ],
          "usage": "import { createHttpServer } from './libs/servers/http-server';\n\nconst { app, server } = createHttpServer();\nserver.listen(3000);",
          "output": "libs/servers/http-server.ts",
          "dependencies": ["express"],
          "command": "npx hanma add http-server"
        },
        {
          "id": "socket-server",
          "name": "socket-server",
          "displayName": "Socket.io Server",
          "description": "Real-time WebSocket server with optional JWT auth",
          "purpose": "Add real-time capabilities to your app. Perfect for chat, live updates, and collaborative features.",
          "features": [
            "Socket.io integration with Express",
            "Optional JWT authentication",
            "Room management helpers",
            "Connection/disconnection handlers"
          ],
          "usage": "import { createSocketServer } from './libs/servers/socket-server';\n\nconst io = createSocketServer(httpServer);\nio.on('connection', (socket) => {\n  console.log('Client connected');\n});",
          "output": "libs/servers/socket-server.ts",
          "dependencies": ["socket.io", "jsonwebtoken"],
          "command": "npx hanma add socket-server"
        },
        {
          "id": "graphql-server",
          "name": "graphql-server",
          "displayName": "Apollo GraphQL Server",
          "description": "Apollo Server 4 with Express integration",
          "purpose": "Build a GraphQL API with Apollo Server. Best for complex data requirements and flexible client queries.",
          "features": [
            "Apollo Server 4 setup",
            "Express middleware integration",
            "Context for authentication",
            "Introspection control"
          ],
          "usage": "import { createApolloServer } from './libs/servers/graphql-server';\n\nconst server = await createApolloServer();\nawait server.start();\napp.use('/graphql', expressMiddleware(server));",
          "output": "libs/servers/graphql-server.ts",
          "dependencies": ["@apollo/server", "graphql"],
          "command": "npx hanma add graphql-server"
        },
        {
          "id": "trpc-server",
          "name": "trpc-server",
          "displayName": "tRPC Server",
          "description": "End-to-end typesafe API with tRPC",
          "purpose": "Full-stack TypeScript with automatic type inference. Best for monorepo setups with shared types.",
          "features": [
            "tRPC router with Express adapter",
            "Zod validation built-in",
            "Public and protected procedures",
            "Type export for clients"
          ],
          "usage": "import { appRouter, createContext } from './libs/servers/trpc-server';\n\napp.use('/trpc', trpcExpress.createExpressMiddleware({\n  router: appRouter,\n  createContext\n}));",
          "output": "libs/servers/trpc-server.ts",
          "dependencies": ["@trpc/server", "zod"],
          "command": "npx hanma add trpc-server"
        },
        {
          "id": "grpc-server",
          "name": "grpc-server",
          "displayName": "gRPC Server",
          "description": "High-performance RPC with Protocol Buffers",
          "purpose": "For microservices communication. Best for high-performance, typed service-to-service calls.",
          "features": [
            "gRPC server setup",
            "Proto file loading",
            "Service implementation pattern",
            "Strongly typed definitions"
          ],
          "usage": "import { createGrpcServer } from './libs/servers/grpc-server';\n\nconst server = createGrpcServer();\nserver.bindAsync('0.0.0.0:50051', credentials, () => {\n  server.start();\n});",
          "output": "libs/servers/grpc-server.ts",
          "dependencies": ["@grpc/grpc-js", "@grpc/proto-loader"],
          "command": "npx hanma add grpc-server"
        }
      ]
    },
    {
      "id": "utilities",
      "title": "Utilities",
      "description": "Common library utilities",
      "snippets": [
        {
          "id": "cors",
          "name": "cors",
          "displayName": "CORS Configuration",
          "description": "Cross-origin resource sharing setup",
          "purpose": "Configure CORS for your API. Essential for frontend applications on different domains.",
          "features": [
            "Origin whitelist",
            "Credentials support",
            "Preflight caching",
            "Custom headers"
          ],
          "usage": "import { corsMiddleware } from './libs/cors';\n\napp.use(corsMiddleware);",
          "output": "libs/cors.ts",
          "dependencies": ["cors"],
          "command": "npx hanma add cors"
        },
        {
          "id": "env-validation",
          "name": "env-validation",
          "displayName": "Environment Validation",
          "description": "Zod-based environment variable validation",
          "purpose": "Validate environment variables at startup. Fail fast if required config is missing.",
          "features": [
            "Zod schema validation",
            "Type-safe env access",
            "Default values",
            "Required field checks"
          ],
          "usage": "import { env } from './libs/env-validation';\n\nconsole.log(env.DATABASE_URL); // Type-safe!",
          "output": "libs/env-validation.ts",
          "dependencies": ["zod"],
          "command": "npx hanma add env-validation"
        },
        {
          "id": "http-client",
          "name": "http-client",
          "displayName": "HTTP Client",
          "description": "Axios-based HTTP client with retries",
          "purpose": "Make HTTP requests with automatic retries and error handling. Use for external API calls.",
          "features": [
            "Automatic retries",
            "Request/response interceptors",
            "Timeout handling",
            "Error transformation"
          ],
          "usage": "import { httpClient } from './libs/http-client';\n\nconst data = await httpClient.get('/api/users');",
          "output": "libs/http-client.ts",
          "dependencies": ["axios"],
          "command": "npx hanma add http-client"
        },
        {
          "id": "sentry",
          "name": "sentry",
          "displayName": "Sentry Integration",
          "description": "Error monitoring with Sentry",
          "purpose": "Track errors and performance in production. Essential for debugging production issues.",
          "features": [
            "Error tracking",
            "Performance monitoring",
            "Release tracking",
            "User context"
          ],
          "usage": "import { initSentry, captureError } from './libs/sentry';\n\ninitSentry();\n\ntry { ... } catch (e) {\n  captureError(e);\n}",
          "output": "libs/sentry.ts",
          "dependencies": ["@sentry/node"],
          "command": "npx hanma add sentry"
        }
      ]
    }
  ]
}
